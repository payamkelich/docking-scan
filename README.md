# AutoDock Vina Grid Search Script

This repository contains a Bash script that automates the grid search process for protein-ligand docking using [AutoDock Vina](http://vina.scripps.edu/).

## Table of Contents

- [Installation](#installation)
- [Usage](#usage)
- [Options](#options)
- [Output](#output)

## Installation

Ensure AutoDock Vina is installed on your system and the path to the binary is known. If not, you can download it from the official website: [AutoDock Vina](http://vina.scripps.edu/).

## Usage

Run the Bash script by executing the command:

```bash
./vinasc [-r receptor] [-l ligand] [-b box_size] [-x start_x] [-X end_x] [--step-x step_x] [-y start_y] [-Y end_y] [--step-y step_y] [-z start_z] [-Z end_z] [--step-z step_z] [--fixed-x fixed_x] [--fixed-y fixed_y] [--fixed-z fixed_z] [-v vina_path]
```
## Options

| Option | Description | Default |
| ------ | ----------- | ------- |
| `-r` or `--receptor` | Receptor PDBQT file name | protein.pdbqt |
| `-l` or `--ligand` | Ligand PDBQT file name | ligand.pdbqt |
| `-b` or `--box` | Box size | 10 |
| `-x` or `--start-x` | Start x-coordinate | -5 |
| `-X` or `--end-x` | End x-coordinate | 5 |
| `--step-x` | Step size for x-coordinate | 5 |
| `-y` or `--start-y` | Start y-coordinate | -5 |
| `-Y` or `--end-y` | End y-coordinate | 5 |
| `--step-y` | Step size for y-coordinate | 5 |
| `-z` or `--start-z` | Start z-coordinate | -5 |
| `-Z` or `--end-z` | End z-coordinate | 5 |
| `--step-z` | Step size for z-coordinate | 5 |
| `--fixed-x` | Fixed x-coordinate | Not set |
| `--fixed-y` | Fixed y-coordinate | Not set |
| `--fixed-z` | Fixed z-coordinate | Not set |
| `-v` or `--vina-path` | Path to AutoDock Vina binary | Not set |


If `--fixed-x`, `--fixed-y`, or `--fixed-z` are set, the respective coordinates will not change during the grid search.

## Output

The script creates a directory named `result_seed_<seed>`, in which it saves all the output files for each grid point. These files include:

- `conf-x-y-z`: Configuration file used by Vina.
- `pdbq-x-y-z.pdbqt`: Output file generated by Vina containing the binding modes.
- `log-x-y-z.log`: Log file generated by Vina.

Additionally, the script generates a CSV file named `affinity_seed_<seed>.csv` that lists the affinity of the best mode for each grid point.

## Contact

Please feel free to [contact](https://payamkelich.github.io/) the author if you have any questions or suggestions.



### `split`



This script processes the affinity data generated by AutoDock Vina, creates structure files for each ligand that meets certain energy criteria, and organizes them in a structured directory. It is helpful for further examination or visualization of protein-ligand interactions that have specific binding affinity.

## Usage

1. Make sure your receptor files in PDBQT format and the affinity data are present in the same directory as the scripts.
2. Ensure that the vina_split binary from AutoDock Vina software is installed and its path is correctly provided.
3. Customize the parameters in `process_affinity.sh` to match your specific protein structure and affinity analysis requirements.

You can run the script with optional parameters:

```shell
./split --receptor receptor_pdbqt --number seed_number --energy-range energy_range --vina-path path_to_vina_split
```
## Command-line Options

| Option               | Description                                | Default                   |
| -------------------- | ------------------------------------------ | ------------------------- |
| `-r` \| `--receptor` | Path to the receptor PDBQT file            | protein.pdbqt
| `-n` \| `--number`   | Seed number to process                     | None (mandatory to provide)|
| `-e` \| `--energy-range` | Energy range value to filter ligands     | -1.0 (kcal/mol)|
| `-v` \| `--vina-path` | Path to the vina_split binary               | `vina_split`              |
| `-h` \| `--help`     | Display the help message                    | None                      |

Please note, this script requires the vina_split binary to be either installed in your $PATH or provided through the `-v` or `--vina-path` option.

4. When you've finished pasting the text, you can save the file and exit nano by pressing Ctrl+O, then Enter to save, and then Ctrl+X to exit.

You now have a Markdown file named `usage.md` with the provided text.

Please note that these steps can vary depending on your operating system and chosen text editor.


